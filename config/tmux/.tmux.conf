# Force a reload of the config file
unbind-key r
bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"

unbind C-a
set -g prefix C-a
bind C-a send-prefix

# Force tmux to use utf-8
setw -gq utf8 on

set -g status-style 'bg=#333333 fg=#5eacd3'
# ----------------------------------------------------------------------------
# General
# ----------------------------------------------------------------------------

set-option -g default-terminal "screen-256color"

# base terminal supports truecolor, tmux should too
set-option -sa terminal-overrides ",xterm-256color:RGB"

# use xterm sequences
set-window-option -g xterm-keys on

# set timeout to 0, so vim esc isn't slow
set -sg escape-time 0

# increase repeat timeout
# set -sg repeat-time 0

# "disable various messages" what does this do?
# set -s focus-events on

# expect utf-8
set -q -g status-utf8 on
setw -q -g utf8 on

# increase history
set -g history-limit 100000

# ----------------------------------------------------------------------------
# Display
# ----------------------------------------------------------------------------

# 1 based index for windows and panes
set -g base-index 1
setw -g pane-base-index 1

# renumber windows if one is closed
set -g renumber-windows on

# # aggressive resize makes tmux resize if a smaller client is active
# setw -g aggressive-resize on

# # Info
# set -g set-titles on

# # activity monitoring
# set -g monitor-activity on
# set -g visual-activity off

# mouse support
set -g mouse on

setw -g mode-keys vi

# ----------------------------------------------------------------------------
# Display
# ----------------------------------------------------------------------------

# v and h are not bound by default, but we never know in the next versions...
unbind v
unbind h
unbind % # Split vertically
unbind '"' # Split horizontally
bind v split-window -hc "#{pane_current_path}"
bind h split-window -vc "#{pane_current_path}"

# Windows Options
bind , command-prompt "rename-window '%%'"
bind c new-window -c "#{pane_current_path}"

# Resizing panes
bind -r C-Down resize-pane -D 5
bind -r C-Up resize-pane -U 5
bind -r C-Left resize-pane -L 5
bind -r C-Right resize-pane -R 5

# Resizing panes with homerow
bind -r M-j resize-pane -D 10
bind -r M-k resize-pane -U 10
bind -r M-h resize-pane -L 10
bind -r M-l resize-pane -R 10

# Vimlike pane navigation
bind -n C-M-h select-pane -L
bind -n C-M-j select-pane -D
bind -n C-M-k select-pane -U
bind -n C-M-l select-pane -R

# Ctrl-Space to zoom current pane
bind-key -r p resize-pane -Z

# moving windows
bind-key -r < swap-window -t -1
bind-key -r > swap-window -t +1

# bind-key -r f run-shell "tmux neww echo hello"
bind-key -r f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"
bind-key -r J run-shell "tmux neww ~/.local/bin/tmux-sessionizer ~/projects/tonitum"


set -g @plugin 'tmux-plugins/tpm'
set -g @plugin "nordtheme/tmux"

run '~/.tmux/plugins/tpm/tpm'
